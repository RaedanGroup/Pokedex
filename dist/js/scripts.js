let pokemonRepository=function(){let t=[],e=function(e){t.push(e);},n=function(){return t;};function i(){console.log('Pokeball, go! ...');}function a(){console.log('You\'ve caught ... Details!');}function o(){return i(),fetch('https://pokeapi.co/api/v2/pokemon/?limit=150').then(function(t){return t.json();}).then(function(t){return Promise.all(t.results.map(function(t){let n={name:t.name,detailsUrl:t.url};return l(n).then(function(){e(n);});}));}).then(function(){a();}).catch(function(t){console.error(t),a();});}function l(t){return i(),fetch(t.detailsUrl).then(function(t){return t.json();}).then(function(e){t.imageUrlFront=e.sprites.front_default,t.imageUrlBack=e.sprites.back_default,t.height=e.height,t.types=e.types,t.abilities=e.abilities,t.weight=e.weight,a();}).catch(function(t){console.error(t),a();});}return{add:e,getAll:n,addListItem:function t(i){let a=document.querySelector('#pokemon-list'),r=document.createElement('li');r.classList.add('list-group-item','row');let p=document.createElement('div'),s=document.createElement('button');s.innerText=i.name.charAt(0).toUpperCase()+i.name.slice(1),s.classList.add('btn','btn-primary','btn-block'),s.setAttribute('data-target','#pokemon-modal'),s.setAttribute('data-toggle','modal'),s.setAttribute('aria-label','Show details for '+i.name),p.appendChild(s);let d=document.createElement('div'),c=document.createElement('img');c.src=i.imageUrlFront,c.alt='Front view of '+i.name,c.classList.add('img-fluid'),d.appendChild(c),r.appendChild(p),r.appendChild(d),a.appendChild(r),function i(a,r){a.addEventListener('click',function(){(function i(a){pokemonRepository.loadDetails(a).then(function(){console.log(a),function i(a){let r=$('.modal-body'),p=$('.modal-title');p.empty(),r.empty();let s=$('<h1>'+a.name.charAt(0).toUpperCase()+a.name.slice(1)+'</h1>'),d=$('<img class="modal-img" style="width:50%">');d.attr('src',a.imageUrlFront),d.attr('alt','Front view of '+a.name);let c=$('<img class="modal-img" style="width:50%">');c.attr('src',a.imageUrlBack),c.attr('alt','Back view of '+a.name);let m=$('<p><b>Height: </b>'+a.height+'</p>'),u=$('<p><b>Weight: </b>'+a.weight+'</p>'),h=$('<p><b>Type(s): </b>'+a.types.map(t=>t.type.name).join(', ')+'</p>'),f=$('<p><b>Abilities: </b>'+a.abilities.map(t=>t.ability.name).join(', ')+'</p>');return p.append(s),r.append(d),r.append(c),r.append(m),r.append(u),r.append(h),r.append(f),$('#pokemon-modal').modal('toggle'),{add:e,getAll:n,addListItem:t,loadList:o,loadDetails:l,showModal:i};}(a);});})(r);});}(s,i);},loadList:o,loadDetails:l};}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t);});});